<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
  <title>Grace ¬∑ our love game üíï</title>
  <!-- Tailwind + Material Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Romantic fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(-45deg, #8B0000, #C71585, #DB7093, #FFB6C1, #FF69B4);
      background-size: 400% 400%;
      animation: gradientBG 20s ease infinite;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Floating hearts background */
    .heart-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .floating-icon {
      position: absolute;
      color: rgba(255, 255, 255, 0.5);
      animation: floatHeart linear infinite;
      font-size: 24px;
      font-family: 'Material Icons';
    }

    @keyframes floatHeart {
      0% { transform: translateY(100vh) scale(0.3) rotate(0deg); opacity: 0; }
      20% { opacity: 0.7; }
      80% { opacity: 0.7; }
      100% { transform: translateY(-20vh) scale(1.2) rotate(360deg); opacity: 0; }
    }

    /* Main card */
    .love-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 48px;
      padding: 30px 20px;
      box-shadow: 0 30px 60px rgba(199, 21, 133, 0.4);
      border: 3px solid white;
      max-width: 550px;
      margin: 20px auto;
      position: relative;
      z-index: 10;
    }

    /* Click if you love me button */
    .love-button {
      background: linear-gradient(45deg, #ff1493, #ff69b4, #ff1493);
      background-size: 200% 200%;
      animation: gradientMove 3s ease infinite;
      border: none;
      padding: 15px 30px;
      font-size: 1.8rem;
      font-family: 'Great Vibes', cursive;
      color: white;
      border-radius: 60px;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(255, 20, 147, 0.5);
      transition: all 0.3s;
      border: 3px solid white;
      width: 100%;
      margin: 15px 0;
    }

    .love-button:hover {
      transform: scale(1.05);
      box-shadow: 0 20px 40px rgba(255, 20, 147, 0.8);
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Gift boxes grid */
    .gift-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 20px 0;
    }

    .gift-box {
      background: linear-gradient(145deg, #fff0f5, #ffe4e1);
      border-radius: 30px;
      padding: 20px 10px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      border: 3px solid white;
      box-shadow: 0 10px 20px rgba(255, 105, 180, 0.3);
      position: relative;
      overflow: hidden;
    }

    .gift-box::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
      animation: shine 3s infinite;
    }

    @keyframes shine {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .gift-box:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 20px 30px rgba(255, 20, 147, 0.5);
    }

    .gift-icon {
      font-size: 3rem;
      color: #ff1493;
      margin-bottom: 8px;
    }

    .gift-text {
      font-family: 'Dancing Script', cursive;
      font-size: 1.3rem;
      color: #c71585;
      font-weight: bold;
    }

    /* LOVE MEMORY MATCH GAME - Main attraction */
    .game-section {
      background: rgba(255, 240, 245, 0.9);
      border-radius: 40px;
      padding: 25px 15px;
      margin: 25px 0;
      border: 3px solid #ff69b4;
      box-shadow: 0 10px 30px rgba(255, 20, 147, 0.2);
    }

    .game-title {
      font-family: 'Great Vibes', cursive;
      font-size: 2.5rem;
      color: #c71585;
      text-align: center;
      margin-bottom: 10px;
    }

    .game-stats {
      display: flex;
      justify-content: space-between;
      background: white;
      padding: 12px 20px;
      border-radius: 50px;
      margin-bottom: 20px;
      border: 2px solid #ffb6c1;
    }

    .memory-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin: 20px 0;
    }

    .memory-card {
      aspect-ratio: 1;
      background: linear-gradient(145deg, #ff69b4, #ff1493);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.4s;
      transform-style: preserve-3d;
      position: relative;
      box-shadow: 0 8px 15px rgba(199, 21, 133, 0.3);
    }

    .memory-card.flipped {
      background: white;
      transform: rotateY(180deg);
    }

    .memory-card.matched {
      background: #d4edda;
      cursor: default;
      opacity: 0.8;
      transform: scale(0.95);
      border: 2px solid #28a745;
    }

    .memory-card .front,
    .memory-card .back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 20px;
    }

    .memory-card .front {
      background: linear-gradient(145deg, #ff69b4, #ff1493);
      color: white;
      transform: rotateY(0deg);
    }

    .memory-card .back {
      background: white;
      transform: rotateY(180deg);
      font-size: 2rem;
    }

    .memory-card.flipped .front {
      transform: rotateY(180deg);
    }

    .memory-card.flipped .back {
      transform: rotateY(0deg);
    }

    .memory-card.matched .back {
      background: #d4edda;
    }

    .game-message {
      text-align: center;
      font-size: 1.2rem;
      margin: 15px 0;
      min-height: 50px;
      font-family: 'Dancing Script', cursive;
    }

    .love-quote {
      background: white;
      padding: 15px;
      border-radius: 30px;
      border-left: 6px solid #ff1493;
      margin: 15px 0;
      font-style: italic;
    }

    .reset-button {
      background: #ff1493;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 1.1rem;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      margin: 10px 0;
      border: 2px solid white;
    }

    .reset-button:hover {
      background: #c71585;
      transform: scale(1.05);
    }

    /* Message popup */
    .message-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 30px;
      border-radius: 50px;
      box-shadow: 0 30px 60px rgba(0,0,0,0.3);
      z-index: 1000;
      max-width: 350px;
      width: 90%;
      text-align: center;
      border: 5px solid #ffb6c1;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }

    .hidden {
      display: none;
    }

    /* Pulse animation */
    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #ff69b4;
      top: -10px;
      animation: confettiFall 3s linear forwards;
      z-index: 2000;
    }

    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    .heart-beat {
      animation: heartBeat 1.4s ease-in-out infinite;
    }
    @keyframes heartBeat {
      0% { transform: scale(1); }
      14% { transform: scale(1.2); }
      28% { transform: scale(1); }
      42% { transform: scale(1.2); }
      70% { transform: scale(1); }
    }
  </style>
</head>
<body>

  <!-- Floating hearts background -->
  <div class="heart-bg" id="heartCanvas"></div>

  <!-- Main content -->
  <div class="min-h-screen flex items-center justify-center p-3">
    <div class="love-card">
      
      <!-- Header with name -->
      <div class="text-center mb-4">
        <span class="material-icons text-4xl text-pink-600 heart-beat">favorite</span>
        <h1 class="font-['Great_Vibes'] text-4xl text-red-600 mt-1">My Dearest Grace</h1>
        <p class="text-gray-600 text-sm">Every moment with you is a treasure...</p>
      </div>

      <!-- Click if you love me button -->
      <button onclick="showLoveMessage()" class="love-button pulse" id="loveButton">
        ‚ù§Ô∏è Click if you love me ‚ù§Ô∏è
      </button>

      <!-- Gift boxes section -->
      <h2 class="font-['Dancing_Script'] text-2xl text-pink-600 text-center mb-3">
        Choose a gift, my love üéÅ
      </h2>
      
      <div class="gift-grid">
        <div class="gift-box" onclick="openGift(1)">
          <span class="material-icons gift-icon">card_giftcard</span>
          <span class="gift-text">Be Mine Forever</span>
        </div>
        <div class="gift-box" onclick="openGift(2)">
          <span class="material-icons gift-icon">redeem</span>
          <span class="gift-text">Endless Kisses</span>
        </div>
        <div class="gift-box" onclick="openGift(3)">
          <span class="material-icons gift-icon">celebration</span>
          <span class="gift-text">Forever Love</span>
        </div>
        <div class="gift-box" onclick="openGift(4)">
          <span class="material-icons gift-icon">spa</span>
          <span class="gift-text">My Whole Heart</span>
        </div>
      </div>

      <!-- LOVE MEMORY MATCH GAME - Emotional & Continuous -->
      <div class="game-section">
        <div class="game-title">üíï Love Memory Match üíï</div>
        
        <div class="game-stats">
          <span><span class="material-icons text-pink-500 align-middle">favorite</span> Score: <span id="score">0</span></span>
          <span><span class="material-icons text-pink-500 align-middle">stars</span> Level: <span id="level">1</span></span>
          <span><span class="material-icons text-pink-500 align-middle">celebration</span> Matches: <span id="matches">0</span>/<span id="totalPairs">6</span></span>
        </div>

        <!-- Memory Grid -->
        <div class="memory-grid" id="memoryGrid"></div>

        <!-- Game Message -->
        <div class="game-message" id="gameMessage">
          <span class="material-icons text-pink-500">favorite</span>
          Match the love memories, my dear!
          <span class="material-icons text-pink-500">favorite</span>
        </div>

        <!-- Love Quote (changes with level) -->
        <div class="love-quote" id="loveQuote">
          "Every love story is beautiful, but ours is my favorite."
        </div>

        <!-- Reset Button -->
        <div class="text-center">
          <button onclick="resetGame()" class="reset-button">
            <span class="material-icons">favorite</span>
            New Game
            <span class="material-icons">favorite</span>
          </button>
        </div>
      </div>

      <!-- Acceptance message (hidden initially) -->
      <div id="acceptanceMessage" class="hidden text-center mt-4 p-5 bg-pink-50 rounded-3xl border-3 border-pink-300">
        <span class="material-icons text-4xl text-pink-600">favorite</span>
        <h3 class="font-['Great_Vibes'] text-2xl text-red-600 mt-1">You said YES!</h3>
        <p class="text-gray-700 text-sm mt-2 leading-relaxed" id="acceptanceText"></p>
      </div>

      <!-- Romantic footer -->
      <div class="text-center mt-4 text-gray-500 text-xs">
        <span class="material-icons align-middle text-pink-400 text-sm">favorite</span>
        Made with infinite love for Grace
        <span class="material-icons align-middle text-pink-400 text-sm">favorite</span>
      </div>
    </div>
  </div>

  <!-- Message popup -->
  <div id="messagePopup" class="message-popup hidden">
    <span id="popupIcon" class="material-icons text-5xl text-pink-600">favorite</span>
    <p id="popupText" class="text-lg text-pink-600 font-['Dancing_Script'] my-3"></p>
    <button onclick="closePopup()" class="bg-pink-500 text-white px-5 py-2 rounded-full w-full text-sm">Close</button>
  </div>
  <div id="overlay" class="overlay hidden" onclick="closePopup()"></div>

  <script>
    // ==================== LOVE MEMORY MATCH GAME ====================
    // Emotional memory pairs - each one represents a special moment or feeling
    const memoryPairs = [
      { id: 1, icon: 'favorite', text: 'First Kiss', emoji: 'üíã' },
      { id: 2, icon: 'beach_access', text: 'Sunset Walk', emoji: 'üåÖ' },
      { id: 3, icon: 'cake', text: 'Birthday Surprise', emoji: 'üéÇ' },
      { id: 4, icon: 'umbrella', text: 'Rainy Day Hug', emoji: '‚òî' },
      { id: 5, icon: 'coffee', text: 'Coffee Date', emoji: '‚òï' },
      { id: 6, icon: 'music_note', text: 'Our Song', emoji: 'üéµ' },
      { id: 7, icon: 'flight', text: 'First Trip', emoji: '‚úàÔ∏è' },
      { id: 8, icon: 'restaurant', text: 'Fancy Dinner', emoji: 'üç∑' },
      { id: 9, icon: 'movie', text: 'Movie Night', emoji: 'üé¨' },
      { id: 10, icon: 'pets', text: 'Cute Animals', emoji: 'üêï' },
      { id: 11, icon: 'beach_access', text: 'Ocean Waves', emoji: 'üåä' },
      { id: 12, icon: 'stars', text: 'Stargazing', emoji: '‚≠ê' }
    ];

    // Love quotes that change with level
    const loveQuotes = [
      "Every love story is beautiful, but ours is my favorite.",
      "You are the poem I never knew how to write.",
      "In your eyes, I found my forever home.",
      "I love you more than all the stars in the sky.",
      "You're my today, my tomorrow, and my always.",
      "My heart beats only for you, Grace.",
      "You make every moment magical.",
      "Being with you feels like a beautiful dream.",
      "You're the best thing that ever happened to me.",
      "Our love grows stronger every single day."
    ];

    let cards = [];
    let flippedCards = [];
    let matchedPairs = 0;
    let score = 0;
    let level = 1;
    let canFlip = true;
    let gameMessage = document.getElementById('gameMessage');
    let memoryGrid = document.getElementById('memoryGrid');
    let scoreSpan = document.getElementById('score');
    let levelSpan = document.getElementById('level');
    let matchesSpan = document.getElementById('matches');
    let totalPairsSpan = document.getElementById('totalPairs');
    let loveQuote = document.getElementById('loveQuote');

    // Initialize game based on level
    function initGame() {
      // Determine number of pairs based on level (increases difficulty)
      let numPairs = Math.min(4 + level, memoryPairs.length); // Start with 4 pairs at level 1
      totalPairsSpan.textContent = numPairs;
      
      // Select random memories for this level
      let selectedPairs = memoryPairs.slice(0, numPairs);
      
      // Create card pairs
      cards = [];
      selectedPairs.forEach((pair, index) => {
        // Add two of each pair
        cards.push({ id: pair.id, icon: pair.icon, text: pair.text, emoji: pair.emoji, matched: false, cardId: Math.random() });
        cards.push({ id: pair.id, icon: pair.icon, text: pair.text, emoji: pair.emoji, matched: false, cardId: Math.random() });
      });
      
      // Shuffle cards
      cards = shuffleArray(cards);
      
      matchedPairs = 0;
      matchesSpan.textContent = matchedPairs;
      flippedCards = [];
      renderGrid();
    }

    // Shuffle array (Fisher-Yates)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Render memory grid
    function renderGrid() {
      let html = '';
      cards.forEach((card, index) => {
        let cardClass = 'memory-card';
        if (card.matched) {
          cardClass += ' matched';
        }
        html += `
          <div class="${cardClass}" onclick="flipCard(this, ${index})" data-index="${index}">
            <div class="front">
              <span class="material-icons text-white text-2xl">favorite</span>
            </div>
            <div class="back">
              <span class="material-icons text-pink-600 text-2xl">${card.icon}</span>
            </div>
          </div>
        `;
      });
      memoryGrid.innerHTML = html;
    }

    // Flip card
    function flipCard(element, index) {
      if (!canFlip) return;
      if (cards[index].matched) return;
      if (flippedCards.includes(index)) return;
      if (flippedCards.length >= 2) return;

      // Add flipped class
      element.classList.add('flipped');
      flippedCards.push(index);

      // Check for match when two cards are flipped
      if (flippedCards.length === 2) {
        checkMatch();
      }
    }

    // Check if flipped cards match
    function checkMatch() {
      canFlip = false;
      let card1 = cards[flippedCards[0]];
      let card2 = cards[flippedCards[1]];

      if (card1.id === card2.id) {
        // MATCH FOUND!
        setTimeout(() => {
          cards[flippedCards[0]].matched = true;
          cards[flippedCards[1]].matched = true;
          
          // Update DOM
          document.querySelector(`[data-index="${flippedCards[0]}"]`).classList.add('matched');
          document.querySelector(`[data-index="${flippedCards[1]}"]`).classList.add('matched');
          
          matchedPairs++;
          matchesSpan.textContent = matchedPairs;
          score += 10 * level;
          scoreSpan.textContent = score;
          
          // Show romantic message
          gameMessage.innerHTML = `<span class="text-green-600">üíï Perfect match! That's our ${card1.text} memory! üíï</span>`;
          createConfetti(10);
          
          // Check if level complete
          if (matchedPairs === cards.length / 2) {
            levelComplete();
          }
          
          flippedCards = [];
          canFlip = true;
        }, 500);
      } else {
        // NO MATCH
        setTimeout(() => {
          // Unflip cards
          document.querySelector(`[data-index="${flippedCards[0]}"]`).classList.remove('flipped');
          document.querySelector(`[data-index="${flippedCards[1]}"]`).classList.remove('flipped');
          
          gameMessage.innerHTML = `<span class="text-pink-600">Not a match... but our love is always perfect ‚ù§Ô∏è</span>`;
          
          flippedCards = [];
          canFlip = true;
        }, 800);
      }
    }

    // Level complete - advance to next level with more memories
    function levelComplete() {
      level++;
      levelSpan.textContent = level;
      
      // Update love quote
      let quoteIndex = (level - 1) % loveQuotes.length;
      loveQuote.textContent = `"${loveQuotes[quoteIndex]}"`;
      
      // Show celebration message
      gameMessage.innerHTML = `<span class="text-purple-600 font-bold">‚ú® LEVEL ${level-1} COMPLETE! You're amazing! ‚ú®</span>`;
      createConfetti(30);
      
      // Add bonus points
      score += 50;
      scoreSpan.textContent = score;
      
      // Start next level
      setTimeout(() => {
        initGame();
      }, 1500);
    }

    // Reset game
    function resetGame() {
      level = 1;
      score = 0;
      scoreSpan.textContent = score;
      levelSpan.textContent = level;
      loveQuote.textContent = `"${loveQuotes[0]}"`;
      initGame();
      createConfetti(15);
      gameMessage.innerHTML = '<span class="material-icons text-pink-500">favorite</span> New game, new memories! <span class="material-icons text-pink-500">favorite</span>';
    }

    // Floating hearts
    function initHearts() {
      const canvas = document.getElementById('heartCanvas');
      for (let i = 0; i < 20; i++) {
        const heart = document.createElement('span');
        heart.className = 'material-icons floating-icon';
        heart.textContent = 'favorite';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (Math.random() * 10 + 8) + 's';
        heart.style.animationDelay = Math.random() * 5 + 's';
        heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
        heart.style.opacity = 0.3;
        canvas.appendChild(heart);
      }
    }

    // Confetti burst
    function createConfetti(count = 30) {
      for (let i = 0; i < count; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + '%';
          confetti.style.background = `hsl(${Math.random() * 30 + 330}, 80%, 70%)`;
          confetti.style.width = (Math.random() * 12 + 5) + 'px';
          confetti.style.height = (Math.random() * 12 + 5) + 'px';
          confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
          document.body.appendChild(confetti);
          setTimeout(() => confetti.remove(), 3000);
        }, i * 20);
      }
    }

    // Click if you love me button
    function showLoveMessage() {
      createConfetti(50);
      const popup = document.getElementById('messagePopup');
      const overlay = document.getElementById('overlay');
      const icon = document.getElementById('popupIcon');
      const text = document.getElementById('popupText');
      
      icon.textContent = 'favorite';
      text.textContent = 'I love you too, Grace! More than all the memories in this game... ‚ù§Ô∏è';
      
      popup.classList.remove('hidden');
      overlay.classList.remove('hidden');
      
      // Show acceptance message
      setTimeout(() => {
        const acceptance = document.getElementById('acceptanceMessage');
        const acceptanceText = document.getElementById('acceptanceText');
        acceptanceText.textContent = 'My heart is yours forever. Every memory we create is a treasure. Every moment with you is a gift. You are my today, my tomorrow, and my always. I promise to fill your life with beautiful memories, endless love, and forever happiness. Will you be mine forever?';
        acceptance.classList.remove('hidden');
      }, 500);
    }

    // Open gift boxes
    function openGift(giftNumber) {
      createConfetti(20);
      const popup = document.getElementById('messagePopup');
      const overlay = document.getElementById('overlay');
      const icon = document.getElementById('popupIcon');
      const text = document.getElementById('popupText');
      
      const gifts = {
        1: { icon: 'card_giftcard', text: 'Be Mine Forever - I choose you, today, tomorrow, and always. You are my forever person, my soulmate, my everything. Every memory with you is precious.' },
        2: { icon: 'redeem', text: 'Endless Kisses - Every kiss I give you will be filled with passion, tenderness, and all the love in my heart. Each kiss creates a beautiful memory.' },
        3: { icon: 'celebration', text: 'Forever Love - My love for you has no end. It grows stronger every day, deeper with every memory we create together.' },
        4: { icon: 'spa', text: 'My Whole Heart - I give you my heart completely. Every beat whispers your name, every thought is filled with you.' }
      };
      
      const gift = gifts[giftNumber];
      icon.textContent = gift.icon;
      text.textContent = gift.text;
      
      popup.classList.remove('hidden');
      overlay.classList.remove('hidden');
    }

    function closePopup() {
      document.getElementById('messagePopup').classList.add('hidden');
      document.getElementById('overlay').classList.add('hidden');
    }

    // Initialize everything
    window.onload = function() {
      initHearts();
      initGame();
      createConfetti(20);
    };
  </script>
</body>
</html>